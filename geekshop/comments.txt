* Урок 1.

Проблема 1.
Встретил проблему, что
картинки из css django пытается получить по пути /static/css/img/...
при этом при любых изменениях адреса (background-image: url) в css путь не меняеся.
пока решил тем, что просто скопировал в папку css папку img.
Но спустя какое-то время, когда снова открыл проект и запустил локально, путь стал корректным.
Пока остается загадкой почему так.

Проблема 2.
Почему-то в Safari на странице product-details не применяется свойство list-style-type: none;
к классу related-product-gallery. При этом при открытии исходников, все ок.
И при этом в другом месте все ок.
Решения вопроса пока нет.
И снова спустя какое-то время после перезагрузки браузера и pycharm все заработало ок.
При этом всегда обновлял страницу со сбросом кэша.

Вопрос 1.
Почему-то "No module named mainapp" в файле urls.py, при этом все запускается.
--------------------------------------------------------------------------------------------------------------

* Урок 2.

Доп-но:
Добавил автоматическое измененение текущего года в футере в базовом шаблоне.
Сделал json.
Сделал активные ссылки.

Вопросов нет.
--------------------------------------------------------------------------------------------------------------


* Урок 3.

Словил ошбику при создании миграции для создания таблицы с продуктами.
---
SystemCheckError: System check identified some issues:

ERRORS:
mainapp.Product.image: (fields.E210) Cannot use ImageField because Pillow is not installed.
        HINT: Get Pillow at https://pypi.org/project/Pillow/ or run command "pip install Pillow".
mainapp.Product.price: (fields.E132) DecimalFields must define a 'max_digits' attribute.
---
Установил. Миграция создалась.

Заметил:
При создании таблицы с категориями сразу с полем created_at не было предупреждений о том, что нужен default.
При добавлении этого поля уже после создания таблицы Продуктов, вышло сообщение о том, что я пытаюсь добавить значение
без default. Вероятно это сделано для того, что таблица уже есть и возможно там есть уже строки и для этого нужно
указать default. Но я знаю, что строк там нет, поэтому все ок и указал default в данный момент текущее время, но конечно
по факту нигде оно не добавилось, а поля появились.

Работал в терминале PyCharm, вызвал python manage.py shell. Но не было <ProductCategory object (None)> а после сохранения
<ProductCategory object (1)>. Все время было <ProductCategory: Chair>.
Python Console о Django не знает(
Понял почему не было None и pk. Потому что сразу добавил __str__. Убрал временно __str__, проверил без него (отдельный скрин).


Скриншоты работы в консоли в папке screenshots. Сохранил как есть, со всеми ошибками, которые появлялись.
Также добавил скриншот из базы (результаты работы в консоли).

Добавил загрузку из json через fixtures.
Попробовал сделать dump базы.
--------------------------------------------------------------------------------------------------------------

* Урок 4.

С fill_db повозился, хотел сразу из json в результате dumpdata загрузить, но как раз попал на тот момент, когда
несколько раз запускал скрипт и в памяти id категории инкрементилось, т.к. с моделью категорий было все ок, а ошибки
были в модели продуктов и поэтому несколько раз создавались категории в памяти.

Немного начал разбираться с валидаторами. Хотел попробовать сделать изменение текста ошибки в views, но не нашел подходящего способа. Сделал в шаблоне.
--------------------------------------------------------------------------------------------------------------

* Урок 5.

Все добавил, немного поменял под себя верстку списка товаров, меню, подправил кнопку "На главную" в изменении данных пользователя.
В папке screenshots скриншоты работы в консоли.
Словил ошибку "'AnonymousUser' object has no attribute 'basket_set'". Очевидно не зарегестрированный юзер не может набрать корзину. Буду думать над валидатором.
0) Регистрацию и изменение юзера добавил.
1) В консоли поработал.
2) Списки товаров и переключение по ним - сделано.
3) Класс active для выбранной страницы категории меню - сделано.
4) Корзина добавлена.
5) Запись в базу с подсчетом кол-ва выбранного товара по клику на него - сделано.
--------------------------------------------------------------------------------------------------------------

* Урок 6.

Не было времени на стилизацию страниц корзины и др. страниц для корректного отображения счетчика корзины.
При нажатии на Заказать у горячего приложения обновляется страница и обновляются соответственно товары на странице. Нужна будет другая логика, оставляю на TODO.
Добавил счетчик корзины.
Добавил декораторы, чтобы корзина была только для авторизованных и при этом приложение не ломалось.
Добавил изменение горячего предложения и похожих товаров.
Добавил страницу корзины.
Добавил удаление товара из корзины.
Добавил страницу товара и добавление в корзину из нее.
Добавил реализацию через AJAX, где при изменении кол-ва товаров приходит ответ "status: true".
--------------------------------------------------------------------------------------------------------------

* Урок 7.

Сделал редирект после авторизации на гл. страницу, при попытке купить товар неавторизованному пользователю. При этом переопределил redirect_field_name.
Но планировал сделать глобально, поменяв значение переменной REDIRECT_FIELD_NAME, указал это в settings.py, но не сработало, поэтому напрямую в декораторе указал (в basketapp/views.pyб add_product).
Добавил условие, что если HTTP_REFERER является форма авторизации, то вернуть на главную страницу, при этом товар будет добавлен.
Почему-то в методе change quantity приходит строкой, не разобрался еще почему, поэтому сделал преобразование в число, чтобы корректно работал if <= 0.
Сделал изменение общую сумму стоимости товара, общую сумму корзины и кол-во всех товаров через js и сделал как на уроке (через рендеринг). (TODO: через js кроме изменения общей суммы по конкретному товару)
Создал приложение админки.
Разграничение прав через is_superuser.
Редактирование. Добавил дефолтную картинку, если у пользователя ее нет.
Удаление через изменение is_active.